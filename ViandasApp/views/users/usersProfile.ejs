<%- include('../partials/head',{cssFile:'userStyles.css'})%>

    <body>
        <%- include('../partials/header')%>

            <!-- Container -->
            <main class="main-body">
                <div class="container" style="margin-top: 40px;">
                    <div class="row">
                        <div class="col-md-3">
                            <h2>Hola <%= user.fullName %>
                            </h2>
                            <img src="/img/users/<%=user.avatar%> ">
                            <br>
                            <br>
                            <div class="alert alert-success"> Tu Usuario es: <b>
                                    <%= user.email %>
                                </b> </div>
                            <div class="alert alert-success"> Tu tienes el Rol de: <b>
                                    <%= user.userRole.role %>
                                </b> </div>
                            
                          
                            <form action="/users/edit/<%= user.id %>" method="get" id="form-update">
                                <button type="Editar" id="btn-editar" class="btn btn-warning btn-sm"><i
                                        class="fa-solid fa-pen-to-square"></i> Editar Usuario </button>
                            </form>
                        </div>
                        <div class=" address-block-h">
                            <div class="address-title">
                                <a href="/users/address" class="btn btn-primary btn-sm right-margin"><i
                                        class="fa-solid fa-plus"></i></a>
                                <h2>Direcciones Disponibles</h2>
                            </div>
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th scope="col">Alias</th>
                                        <th scope="col">Calle</th>
                                        <th scope="col">Numero</th>
                                        <th scope="col">Piso</th>
                                        <th scope="col">Depto</th>
                                        <th scope="col">Ciudad</th>
                                        <th scope="col"> </th>
                                        <th scope="col"> </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="vertical_align">
                                        <% for( let address of addressList ) { %>
                                            <td>
                                                <%= address.name %>
                                            </td>
                                            <td>
                                                <%= address.street %>
                                            </td>
                                            <td>
                                                <%= address.number %>
                                            </td>
                                            <td>
                                                <%= address.floor %>
                                            </td>
                                            <td>
                                                <%= address.dept %>
                                            </td>
                                            <td>
                                                <%= address.city.name %>
                                            </td>
                                            <td>
                                                <form action="/users/address/edit/<%= address.id %>" method="get"
                                                    id="form-delete"">
                                                    <button type=" Editar" id="btn-editar"
                                                    class="btn btn-warning btn-sm"><i
                                                        class="fa-solid fa-pen-to-square"></i></button>
                                                </form>
                                            </td>

                                            <td>
                                                <form action="/users/address/delete/<%= address.id %>" method="POST"
                                                    id="form-address-delete">
                                                    <button type="submit" id="btn-delete"
                                                        class="btn btn-danger btn-sm"><i
                                                            class="fa-solid fa-pen-to-square"></i></button>

                                                </form>
                                            </td>
                                    </tr>
                                    <% } %>

                                </tbody>
                            </table>

                        </div>

                    </div>
                </div>
                <!-- //Container -->
                </div>
                

                    <script src="/scripts/UserEvents.js"></script>
    </body>
    <%- include('../partials/footer')%>
    </html>